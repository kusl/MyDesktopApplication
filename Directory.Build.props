<Project>
  <!--
    Shared Build Properties for All Projects
    Includes optimizations for Android aapt2 issues
  -->
  <PropertyGroup>
    <TargetFramework>net10.0</TargetFramework>
    <ImplicitUsings>enable</ImplicitUsings>
    <Nullable>enable</Nullable>
    <LangVersion>latest</LangVersion>
    <TreatWarningsAsErrors>false</TreatWarningsAsErrors>
    <NoWarn>$(NoWarn);CS1591;CS8618</NoWarn>
    <GenerateDocumentationFile>false</GenerateDocumentationFile>
  </PropertyGroup>
  
  <!-- Android-specific optimizations to prevent aapt2 hangs -->
  <PropertyGroup Condition="$(TargetFramework.Contains('android'))">
    <!-- Disable aapt2 daemon (prevents deadlocks on Linux/macOS) -->
    <AndroidAapt2DaemonEnabled>false</AndroidAapt2DaemonEnabled>
    <!-- Use single-threaded aapt2 -->
    <AndroidAapt2ParallelThread>1</AndroidAapt2ParallelThread>
    <!-- Faster resource compilation -->
    <AndroidEnableAapt2NoCrunch>true</AndroidEnableAapt2NoCrunch>
    <!-- Use interpreted mode for faster debug builds -->
    <UseInterpreter Condition="'$(Configuration)' == 'Debug'">true</UseInterpreter>
    <!-- Reduce logging verbosity -->
    <AndroidUseSharedRuntime>false</AndroidUseSharedRuntime>
  </PropertyGroup>
  
  <!-- Source generators for MVVM -->
  <PropertyGroup>
    <EnableMSBuildToolsGeneration>true</EnableMSBuildToolsGeneration>
  </PropertyGroup>
</Project>
